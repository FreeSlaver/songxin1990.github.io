---
layout: page
title: 谈谈互联网的三高：高并发，高性能，高可用
category: architecture-design
categoryStr: 架构设计
tags: [howto,技术选型]
keywords:
description:
---


都知道互联网技术主要面临的是如何解决三高的问题，高并发，高性能，高可用。  
特别是遇到一些应用场景，比如秒杀，双十一，春节抢火车票等大型活动时，系统会面临严峻的挑战。  
## 高并发
简单理解就是：同一时刻，有成千上万的用户访问你的网站，APP应用，这个用户量可能达到上千万，上亿。  
如何保证在次场景下对所有的用户提供完整的业务请求服务，并且不宕机，不卡顿。
### 高并发解决之道
以淘宝网举例，用户访问的本质就是在请求资源，这些资源包括文本，图片，音视频等，虽然这些本质上都是数据，但是处理方式却不同。  
以用户网页打开淘宝网，然后浏览商品，商品详情，评论，并购买，支付整个环节，是如何保证高并发的。  

[//]: # (打开浏览器，输入taobao.com，)
高并发本质上就是服务器同时处理成千上万个连接，也就是句柄数，也就是对应到Linux系统中的打开的文件数量。  
想要达到高并发，就要保证几点：
1. 每个连接耗费的系统资源最小化
这样同样的硬件配置就能处理更多的连接，比如我们使用Nginx而不是Apache HTTP，因为Nginx占用资源更少，能同时处理的连接数大的多。  
当然一次请求不会只到Nginx这，还会调用Java应用实例，Redis缓存，Kafka集群，MySQL数据库等。  
在每一个环节都会耗费系统资源，如Cpu，内存，硬盘，网络带宽等，
2. 每个连接处理时间最短化
这样同样的时间就能处理更多的连接请求，
3. 每次请求的资源最小化

4. 服务能够水平扩展
这就必须要求服务是无状态的，不然用户付款到一半，然后宕机，切换到另一台服务器上，状态就不好处理了。

## 高性能
简单来说就是：快。天下武功唯快不破，你上网，玩游戏，听歌，最烦最讨厌的应该就是等半天，卡顿，用户体验非常糟糕。  
### 高性能解决之道
高性能和高并发这两者不能分开来看，都是相互作用，影响的。  
怎么样才能快？  
1. 网速够快够稳；
选择三网全通的机房，什么CN2线路之类的，
2. 数据距离够近；
越近网络传播耗时越短，典型的技术就有：CDN，将图片，静态资源（js，css）等存储到
3. 传输的数据够小
4. 获取数据的速度快
都知道获取数据的速度CPU>1,2，3级缓存>内存>硬盘，在以上硬件中我们能够低成本，方便扩容的就是内存，  
就是将数据放到距离需求它的最近地点，csapp中有讲到，CPU，CPU中的缓存我们都无法控制，硬盘差不多是最慢的设备了。  
所以将数据放到内存中就能大大提高















